(function(){"use strict";var e={function:!0,object:!0},t=e[typeof window]&&window||this,o=e[typeof exports]&&exports,n=e[typeof module]&&module&&!module.nodeType&&module,i=o&&n&&"object"==typeof global&&global;!i||i.global!==i&&i.window!==i&&i.self!==i||(t=i);var r=Math.pow(2,53)-1,a=/\bOpera/,s=Object.prototype,p=s.hasOwnProperty,u=s.toString;function l(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function c(e){return e=m(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:l(e)}function d(e,t){for(var o in e)p.call(e,o)&&t(e[o],o,e)}function f(e){return null==e?l(e):u.call(e).slice(8,-1)}function h(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function x(e,t){var o=null;return function(e,t){var o=-1,n=e?e.length:0;if("number"==typeof n&&n>-1&&n<=r)for(;++o<n;)t(e[o],o,e);else d(e,t)}(e,function(n,i){o=t(o,n,i,e)}),o}function m(e){return String(e).replace(/^ +| +$/g,"")}var g=function e(o){var n=t,i=o&&"object"==typeof o&&"String"!=f(o);i&&(n=o,o=null);var r=n.navigator||{},s=r.userAgent||"";o||(o=s);var p,l,g,b,v,E=i?!!r.likeChrome:/\bChrome\b/.test(o)&&!/internal|\n/i.test(u.toString()),w=i?"Object":"ScriptBridgingProxyObject",y=i?"Object":"Environment",C=i&&n.java?"JavaPackage":f(n.java),S=i?"Object":"RuntimeObject",T=/\bJava/.test(C)&&n.java,j=T&&f(n.environment)==y,k=T?"a":"α",R=T?"b":"β",O=n.document||{},A=n.operamini||n.opera,P=a.test(P=i&&A?A["[[Class]]"]:f(A))?P:A=null,H=o,D=[],M=null,I=o==s,_=I&&A&&"function"==typeof A.version&&A.version(),L=x([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(e,t){return e||RegExp("\\b"+(t.pattern||h(t))+"\\b","i").exec(o)&&(t.label||t)}),q=function(e){return x(e,function(e,t){return e||RegExp("\\b"+(t.pattern||h(t))+"\\b","i").exec(o)&&(t.label||t)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),B=G([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),W=function(e){return x(e,function(e,t,n){return e||(t[B]||t[/^[a-z]+(?: +[a-z]+\b)*/i.exec(B)]||RegExp("\\b"+h(n)+"(?:\\b|\\w*\\d)","i").exec(o))&&n})}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),F=function(e){return x(e,function(e,t){var n=t.pattern||h(t);return!e&&(e=RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(o))&&(e=function(e,t,o){var n={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&o&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(n=n[/[\d.]+$/.exec(e)])&&(e="Windows "+n),e=String(e),t&&o&&(e=e.replace(RegExp(t,"i"),o)),e=c(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,n,t.label||t)),e})}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function G(e){return x(e,function(e,t){var n=t.pattern||h(t);return!e&&(e=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(o)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(o)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(o))&&((e=String(t.label&&!RegExp(n,"i").test(t.label)?t.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),t=t.label||t,e=c(e[0].replace(RegExp(n,"i"),t).replace(RegExp("; *(?:"+t+"[_-])?","i")," ").replace(RegExp("("+t+")[-_.]?(\\w)","i"),"$1 $2"))),e})}function X(e){return x(e,function(e,t){return e||(RegExp(t+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(o)||0)[1]||null})}if(L&&(L=[L]),/\bAndroid\b/.test(F)&&!B&&(p=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(o))&&(B=m(p[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),W&&!B?B=G([W]):W&&B&&(B=B.replace(RegExp("^("+h(W)+")[-_.\\s]","i"),W+" ").replace(RegExp("^("+h(W)+")[-_.]?(\\w)","i"),W+" $2")),(p=/\bGoogle TV\b/.exec(B))&&(B=p[0]),/\bSimulator\b/i.test(o)&&(B=(B?B+" ":"")+"Simulator"),"Opera Mini"==q&&/\bOPiOS\b/.test(o)&&D.push("running in Turbo/Uncompressed mode"),"IE"==q&&/\blike iPhone OS\b/.test(o)?(W=(p=e(o.replace(/like iPhone OS/,""))).manufacturer,B=p.product):/^iP/.test(B)?(q||(q="Safari"),F="iOS"+((p=/ OS ([\d_]+)/i.exec(o))?" "+p[1].replace(/_/g,"."):"")):"Konqueror"==q&&/^Linux\b/i.test(F)?F="Kubuntu":W&&"Google"!=W&&(/Chrome/.test(q)&&!/\bMobile Safari\b/i.test(o)||/\bVita\b/.test(B))||/\bAndroid\b/.test(F)&&/^Chrome/.test(q)&&/\bVersion\//i.test(o)?(q="Android Browser",F=/\bAndroid\b/.test(F)?F:"Android"):"Silk"==q?(/\bMobi/i.test(o)||(F="Android",D.unshift("desktop mode")),/Accelerated *= *true/i.test(o)&&D.unshift("accelerated")):"UC Browser"==q&&/\bUCWEB\b/.test(o)?D.push("speed mode"):"PaleMoon"==q&&(p=/\bFirefox\/([\d.]+)\b/.exec(o))?D.push("identifying as Firefox "+p[1]):"Firefox"==q&&(p=/\b(Mobile|Tablet|TV)\b/i.exec(o))?(F||(F="Firefox OS"),B||(B=p[1])):!q||(p=!/\bMinefield\b/i.test(o)&&/\b(?:Firefox|Safari)\b/.exec(q))?(q&&!B&&/[\/,]|^[^(]+?\)/.test(o.slice(o.indexOf(p+"/")+8))&&(q=null),(p=B||W||F)&&(B||W||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(F))&&(q=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(F)?F:p)+" Browser")):"Electron"==q&&(p=(/\bChrome\/([\d.]+)\b/.exec(o)||0)[1])&&D.push("Chromium "+p),_||(_=X(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",h(q),"(?:Firefox|Minefield|NetFront)"])),(p=("iCab"==L&&parseFloat(_)>3?"WebKit":/\bOpera\b/.test(q)&&(/\bOPR\b/.test(o)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(o)&&!/^(?:Trident|EdgeHTML)$/.test(L)&&"WebKit"||!L&&/\bMSIE\b/i.test(o)&&("Mac OS"==F?"Tasman":"Trident")||"WebKit"==L&&/\bPlayStation\b(?! Vita\b)/i.test(q)&&"NetFront")&&(L=[p]),"IE"==q&&(p=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(o)||0)[1])?(q+=" Mobile",F="Windows Phone "+(/\+$/.test(p)?p:p+".x"),D.unshift("desktop mode")):/\bWPDesktop\b/i.test(o)?(q="IE Mobile",F="Windows Phone 8.x",D.unshift("desktop mode"),_||(_=(/\brv:([\d.]+)/.exec(o)||0)[1])):"IE"!=q&&"Trident"==L&&(p=/\brv:([\d.]+)/.exec(o))&&(q&&D.push("identifying as "+q+(_?" "+_:"")),q="IE",_=p[1]),I){if(b="global",v=null!=(g=n)?typeof g[b]:"number",/^(?:boolean|number|string|undefined)$/.test(v)||"object"==v&&!g[b])f(p=n.runtime)==w?(q="Adobe AIR",F=p.flash.system.Capabilities.os):f(p=n.phantom)==S?(q="PhantomJS",_=(p=p.version||null)&&p.major+"."+p.minor+"."+p.patch):"number"==typeof O.documentMode&&(p=/\bTrident\/(\d+)/i.exec(o))?(_=[_,O.documentMode],(p=+p[1]+4)!=_[1]&&(D.push("IE "+_[1]+" mode"),L&&(L[1]=""),_[1]=p),_="IE"==q?String(_[1].toFixed(1)):_[0]):"number"==typeof O.documentMode&&/^(?:Chrome|Firefox)\b/.test(q)&&(D.push("masking as "+q+" "+_),q="IE",_="11.0",L=["Trident"],F="Windows");else if(T&&(H=(p=T.lang.System).getProperty("os.arch"),F=F||p.getProperty("os.name")+" "+p.getProperty("os.version")),j){try{_=n.require("ringo/engine").version.join("."),q="RingoJS"}catch(e){(p=n.system)&&p.global.system==n.system&&(q="Narwhal",F||(F=p[0].os||null))}q||(q="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(p=n.process)&&("object"==typeof p.versions&&("string"==typeof p.versions.electron?(D.push("Node "+p.versions.node),q="Electron",_=p.versions.electron):"string"==typeof p.versions.nw&&(D.push("Chromium "+_,"Node "+p.versions.node),q="NW.js",_=p.versions.nw)),q||(q="Node.js",H=p.arch,F=p.platform,_=(_=/[\d.]+/.exec(p.version))?_[0]:null));F=F&&c(F)}if(_&&(p=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(_)||/(?:alpha|beta)(?: ?\d)?/i.exec(o+";"+(I&&r.appMinorVersion))||/\bMinefield\b/i.test(o)&&"a")&&(M=/b/i.test(p)?"beta":"alpha",_=_.replace(RegExp(p+"\\+?$"),"")+("beta"==M?R:k)+(/\d+\+?/.exec(p)||"")),"Fennec"==q||"Firefox"==q&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(F))q="Firefox Mobile";else if("Maxthon"==q&&_)_=_.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(B))"Xbox 360"==B&&(F=null),"Xbox 360"==B&&/\bIEMobile\b/.test(o)&&D.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(q)&&(!q||B||/Browser|Mobi/.test(q))||"Windows CE"!=F&&!/Mobi/i.test(o))if("IE"==q&&I)try{null===n.external&&D.unshift("platform preview")}catch(e){D.unshift("embedded")}else(/\bBlackBerry\b/.test(B)||/\bBB10\b/.test(o))&&(p=(RegExp(B.replace(/ +/g," *")+"/([.\\d]+)","i").exec(o)||0)[1]||_)?(F=((p=[p,/BB10/.test(o)])[1]?(B=null,W="BlackBerry"):"Device Software")+" "+p[0],_=null):this!=d&&"Wii"!=B&&(I&&A||/Opera/.test(q)&&/\b(?:MSIE|Firefox)\b/i.test(o)||"Firefox"==q&&/\bOS X (?:\d+\.){2,}/.test(F)||"IE"==q&&(F&&!/^Win/.test(F)&&_>5.5||/\bWindows XP\b/.test(F)&&_>8||8==_&&!/\bTrident\b/.test(o)))&&!a.test(p=e.call(d,o.replace(a,"")+";"))&&p.name&&(p="ing as "+p.name+((p=p.version)?" "+p:""),a.test(q)?(/\bIE\b/.test(p)&&"Mac OS"==F&&(F=null),p="identify"+p):(p="mask"+p,q=P?c(P.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(p)&&(F=null),I||(_=null)),L=["Presto"],D.push(p));else q+=" Mobile";(p=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(o)||0)[1])&&(p=[parseFloat(p.replace(/\.(\d)$/,".0$1")),p],"Safari"==q&&"+"==p[1].slice(-1)?(q="WebKit Nightly",M="alpha",_=p[1].slice(0,-1)):_!=p[1]&&_!=(p[2]=(/\bSafari\/([\d.]+\+?)/i.exec(o)||0)[1])||(_=null),p[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(o)||0)[1],537.36==p[0]&&537.36==p[2]&&parseFloat(p[1])>=28&&"WebKit"==L&&(L=["Blink"]),I&&(E||p[1])?(L&&(L[1]="like Chrome"),p=p[1]||((p=p[0])<530?1:p<532?2:p<532.05?3:p<533?4:p<534.03?5:p<534.07?6:p<534.1?7:p<534.13?8:p<534.16?9:p<534.24?10:p<534.3?11:p<535.01?12:p<535.02?"13+":p<535.07?15:p<535.11?16:p<535.19?17:p<536.05?18:p<536.1?19:p<537.01?20:p<537.11?"21+":p<537.13?23:p<537.18?24:p<537.24?25:p<537.36?26:"Blink"!=L?"27":"28")):(L&&(L[1]="like Safari"),p=(p=p[0])<400?1:p<500?2:p<526?3:p<533?4:p<534?"4+":p<535?5:p<537?6:p<538?7:p<601?8:p<602?9:p<604?10:p<606?11:p<608?12:"12"),L&&(L[1]+=" "+(p+="number"==typeof p?".x":/[.+]/.test(p)?"":"+")),"Safari"==q&&(!_||parseInt(_)>45)?_=p:"Chrome"==q&&/\bHeadlessChrome/i.test(o)&&D.unshift("headless")),"Opera"==q&&(p=/\bzbov|zvav$/.exec(F))?(q+=" ",D.unshift("desktop mode"),"zvav"==p?(q+="Mini",_=null):q+="Mobile",F=F.replace(RegExp(" *"+p+"$"),"")):"Safari"==q&&/\bChrome\b/.exec(L&&L[1])?(D.unshift("desktop mode"),q="Chrome Mobile",_=null,/\bOS X\b/.test(F)?(W="Apple",F="iOS 4.3+"):F=null):/\bSRWare Iron\b/.test(q)&&!_&&(_=X("Chrome")),_&&0==_.indexOf(p=/[\d.]+$/.exec(F))&&o.indexOf("/"+p+"-")>-1&&(F=m(F.replace(p,""))),F&&-1!=F.indexOf(q)&&!RegExp(q+" OS").test(F)&&(F=F.replace(RegExp(" *"+h(q)+" *"),"")),L&&!/\b(?:Avant|Nook)\b/.test(q)&&(/Browser|Lunascape|Maxthon/.test(q)||"Safari"!=q&&/^iOS/.test(F)&&/\bSafari\b/.test(L[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(q)&&L[1])&&(p=L[L.length-1])&&D.push(p),D.length&&(D=["("+D.join("; ")+")"]),W&&B&&B.indexOf(W)<0&&D.push("on "+W),B&&D.push((/^on /.test(D[D.length-1])?"":"on ")+B),F&&(p=/ ([\d.+]+)$/.exec(F),l=p&&"/"==F.charAt(F.length-p[0].length-1),F={architecture:32,family:p&&!l?F.replace(p[0],""):F,version:p?p[1]:null,toString:function(){var e=this.version;return this.family+(e&&!l?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(p=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(H))&&!/\bi686\b/i.test(H)?(F&&(F.architecture=64,F.family=F.family.replace(RegExp(" *"+p),"")),q&&(/\bWOW64\b/i.test(o)||I&&/\w(?:86|32)$/.test(r.cpuClass||r.platform)&&!/\bWin64; x64\b/i.test(o))&&D.unshift("32-bit")):F&&/^OS X/.test(F.family)&&"Chrome"==q&&parseFloat(_)>=39&&(F.architecture=64),o||(o=null);var $={};return $.description=o,$.layout=L&&L[0],$.manufacturer=W,$.name=q,$.prerelease=M,$.product=B,$.ua=o,$.version=q&&_,$.os=F||{architecture:null,family:null,version:null,toString:function(){return"null"}},$.parse=e,$.toString=function(){return this.description||""},$.version&&D.unshift(_),$.name&&D.unshift(q),F&&q&&(F!=String(F).split(" ")[0]||F!=q.split(" ")[0]&&!B)&&D.push(B?"("+F+")":"on "+F),D.length&&($.description=D.join(" ")),$}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(t.platform=g,define(function(){return g})):o&&n?d(g,function(e,t){o[t]=e}):t.platform=g}).call(this),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),o=this,n=function(){},i=function(){return o.apply(this instanceof n&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,i.prototype=new n,i}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t,o){"use strict";return function(n,i){if(null==this)throw TypeError("Array.prototype.indexOf called on null or undefined");var r=e(this),a=r.length>>>0,s=o(0|i,a);if(s<0)s=t(0,a+s);else if(s>=a)return-1;if(void 0===n){for(;s!==a;++s)if(void 0===r[s]&&s in r)return s}else{if(n!=n)return-1;for(;s!==a;++s)if(r[s]===n)return s}return-1}}(Object,Math.max,Math.min)),function(e,t){var o=function(e,t){for(var n in t)"segmentation"===n&&"object"==typeof t[n]?(0,void 0===e[n]&&(e[n]={}),o(e[n],t[n])):{}.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n=function(e,t){for(var n=0;n<t.length;n++)o(e,t[n])},i=function(e){var t=[];for(var o in e)"string"==typeof e[o]||"wfc"!==o&&"segmentation"!==o?t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o])):t.push(encodeURIComponent(o)+"="+encodeURIComponent(JSON?JSON.stringify(e[o]):c(e[o])));return t.join("&")},r=function(e){for(var t in e)e.hasOwnProperty(t)&&((e[t]>864e5||e[t]<0)&&(e[t]=0),e[t]>0&&(e[t]=(o=e[t],Math.floor(o))));var o},a=function(){var t=0;if(e.performance&&e.performance.timing){var o=e.performance.timing;t=0===o.redirectStart?o.fetchStart:o.redirectStart}return{user_end_time:t}},s=function(e,t){var o=e;return o+=(o.split("?")[1]?"&":"?")+t},p=function(e){return parseInt(e.toString().replace(".",1),10)},u=function(e){this._seed=e%2147483647,this._seed<=0&&(this._seed+=2147483646)};u.prototype.next=function(e,t){this._seed=16807*this._seed%2147483647;var o=(new Date).getTime()+"-";return 0===arguments.length?o+p(this._seed/2147483647):1===arguments.length?o+p(this._seed/2147483647*e):o+p(this._seed/2147483647*(t-e)+e)};var l=0,c=function(e){if(e){var t="{",o=Object.keys(e).length-1,n=0;for(var i in e){if("segmentation"===i&&"object"==typeof e[i]){t+='"'+i+'":{';var r=Object.keys(e[i]).length-1,a=0;for(var s in e[i])t+='"'+s+'":"'+(void 0===e[i][s]?"":e[i][s])+'"',r!==a&&(t+=","),a++;t+="}"}else t+='"'+i+'":"'+(void 0===e[i]?"":e[i])+'"';o!==n&&(t+=","),n++}return t+"}"}},d=!0,f=function(e,t){if(1==d)d=(new Date).getTime();else if((new Date).getTime()-d<12)return void setTimeout(function(){f(e,t)},12);if(e){d=(new Date).getTime();var o="appinsightorIosRecordEvent://";o+=c(e),window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.appinsightorIosRecordEvent?window.webkit.messageHandlers.appinsightorIosRecordEvent.postMessage(o):window.location.href=o,t&&t(e),t=null}},h=function(t,o){var n=function(e){for(var t=e.split(" "),o=[],n=!1,i="",r=0,a=t.length;r<a;r++){var s=t[r].substring(0,1),p=t[r].substring(t[r].length-1,t[r].length);"("===s?(n=!0,i+=" "+t[r]):")"===p?(n=!1,i+=" "+t[r],o.push(i),i=""):(i+=n?" "+t[r]:t[r]+" ",r===a-1&&o.push(i.substring(0,i.length-2)))}return o}(window.navigator.userAgent),i=0;n[2]&&(i=n[2].split(" ").length);var r=window.navigator.userAgent.toLowerCase(),a=void 0!==e.AppinsightorAndroid,s=/safari/.test(r),p=/iphone|ipod|ipad/.test(r);return a||"android"===t.os&&"android browser"===t.wb&&i>3?o?"AW":"W":window.webkit||!s&&p&&"ios"===t.os&&"safari"===t.wb?o?"IW":"W":"B"},x=function(e,t){if(e&&"object"==typeof e&&t&&"object"==typeof t)for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e},m=function(o,n,r){var a=o.uri;if(o.native&&o.native.use&&"AW"===h(n,!0))!function(t,o){void 0!==e.AppinsightorAndroid&&void 0!==e.AppinsightorAndroid.recordEvent&&(e.AppinsightorAndroid.recordEvent(c(t)),o&&o(t),o=null)}(n,r);else if(o.native&&o.native.use&&"IW"===h(n,!0))f(n,r);else{if(!a||a.length<1)return;o.sendReportAjax&&o.sendReportAjax.use?function(e,t,o,n){var r=new XMLHttpRequest;r.callback=n,r.onload=n,r.onerror=n,r.open("GET",t+"?"+i(o),!0),r.send(),setTimeout(function(){r&&r.abort()},1e3*e.sendReportAjax.timeout||5e3)}(o,a,n,r):function(o,n,r){"object"==typeof e&&"object"==typeof e.document&&e.document;var a=t.createElement("IMG"),s=t.getElementsByTagName("head")[0];a.onload=a.onerror=function(){s&&s.removeChild(a)},a.width=1,a.height=1,a.style.left="0px",a.style.position="absolute",a.style.display="none",a.src=o+"?"+i(n)+"&"+((new Date).getTime()+l++),s.appendChild(a),r&&r(n),r=null}(a,n,r)}},g=function(e){if(e)return-1===e.indexOf("http")&&(e="/"===e.substr(0,1)?location.protocol+"//"+location.host+e:location.protocol+"//"+location.host+"/"+e),e},b=function(t){var o={};if(t){if(0===(n=t).duration)return!1;o.pr=0===n.redirectStart?0:n.redirectEnd-n.redirectStart,o.pa=n.domainLookupStart-n.fetchStart,o.pl=n.domainLookupEnd-n.domainLookupStart,o.pc=n.connectEnd-n.connectStart,o.ps=n.responseStart-n.requestStart,o.pv=n.responseEnd-n.responseStart,o.pd=n.domComplete?n.domComplete-n.responseEnd:0,o.po=n.loadEventEnd?n.loadEventEnd-n.loadEventStart:0,o.pt=o.pr+o.pa+o.pl+o.pc+o.ps+o.pv+o.pd+o.po}else if(e.performance&&e.performance.timing){var n;if(0===(n=e.performance.timing).loadEventEnd)return!1;o.pr=0===n.redirectStart?0:n.redirectEnd-n.redirectStart,o.pa=n.domainLookupStart-n.fetchStart,o.pl=n.domainLookupEnd-n.domainLookupStart,o.pc=n.connectEnd-n.connectStart,o.ps=n.responseStart-n.requestStart,o.pv=n.responseEnd-n.responseStart,o.pd=n.domComplete-n.responseEnd,o.po=n.loadEventEnd-n.loadEventStart,o.pt=o.pr+o.pa+o.pl+o.pc+o.ps+o.pv+o.pd+o.po}return r(o),o},v={category:function(e){if(e&&e.length>0)for(var o=t.getElementsByTagName("meta"),n=0;n<o.length;n++)if(o[n].getAttribute("name")&&o[n].getAttribute("name")===e)return o[n].getAttribute("content");return""},session:function(e){if(!e)return!1;var o=e.type||"cookie",n=e.value;if(!n)return!1;switch(o){case"cookie":n=function(e){for(var o=e+"=",n=t.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(o))return r.substring(o.length,r.length)}return""}(n)}return n},get:function(o){var n={};return n.rr=e.location.href,"#"===n.rr.substring(n.rr.length-1)&&(n.rr=n.rr.replace("#","")),n.referrer=t.referrer,n.lang=navigator.language||"unknown",n.c=this.category(o.category)||"",n.ss=this.session(o.session)||"",n}},E={get:function(){var t={},o=e.platform;return t.os=null===o.os.family?"unknown":o.os.family.toLowerCase(),t.osg=null===o.os.family?"other":this.getOsGroup(o.os.family),t.osv=null===o.os.version?"":o.os.version,t.arch=null===o.os.architecture?32:o.os.architecture,t.wb=null===o.name?"unknown":o.name.toLowerCase(),t.wbv=null===o.version?"unknown":o.version.toLowerCase(),t.wbg=null===o.name?"other":this.getBrowserGroup(o.name),t.le=null===o.layout?"unknown":o.layout.toLowerCase(),t.leg=null===o.layout?"other":this.getLayoutEngineGroup(o.layout),t.ddg=this.getDeviceGroup(o),t.dd=null===o.product&&"pc"===t.ddg?"pc":o.product,t.browsing_type=h(t),t},getDeviceGroup:function(e){var t=["iPhone","iPod","iPad","BlakBerry","Android","WindowsCE","LG","MOT","SAMSUNG","SonyEricsson","Nokia","Webos","Opera mini","Opera mobi","Iemobile"];try{for(var o=0;o<t.length;o++){var n=navigator.userAgent.match(t[o]),i=navigator.userAgent.match("MALGJS");if(null!==n&&null===i)return"mobile"}}catch(e){}return"pc"},getLayoutEngineGroup:function(e){return/(\bWebKit\b|\bGecko\b|\bTrident\b|\bBlink\b|\bPresto\b)/i.exec(e)?e.toLowerCase():"other"},getBrowserGroup:function(e){return/IE/i.exec(e)?"msie":/Chrome/i.exec(e)?"chrome":/(Firefox|Mozilla)/i.exec(e)?"firefox":/(Opera)/i.exec(e)?"opera":/(Safari)/i.exec(e)?"safari":/(Edge)/i.exec(e)?"edge":"other"},getOsGroup:function(e){return/Windows/i.exec(e)?"windows":/(Android)/i.exec(e)?"android":/(iOS)/i.exec(e)?"ios":/(Mac|OS X|PowerPC)/i.exec(e)?"macos":/(nbuntu|Linux|Cent|Suse|Red.*hat|Debian|Gentoo|Cygwin)/i.exec(e)?"linux":/(Unix|BSD|AIX|HP-UX|Solaris)/i.exec(e)?"macos":"other"}},w=function(e){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){e({geo:t.coords.latitude.toString()+","+t.coords.longitude.toString()})},function(t){e("")})},y=function(e,t){for(var o in e){var n=e[o];if(n instanceof RegExp){if(null!==t.match(n))return!0}else if("string"==typeof n&&t.indexOf(n)>-1)return!0}return!1},C=function(e,t,o,n,i,r){this.txid="",this.uuid=e||"",this.onload_id=i||"",this.ajaxMethod=t||"",this.ajaxUrl=o||"",this.async=!1!==r,this.ajaxStart=(new Date).getTime(),this.ajaxLoad=null,this.ajaxEnd=null,this.callCount=0,this.statusCode=0,this.postData="",n&&(n.paramData&&(this.paramData=n.paramData),n.callback&&(this.callback=n.callback)),this.perf={pr:0,pa:0,pl:0,pc:0,ps:0,pv:0,pd:0,po:0,pt:0}},S=function(e){var t=T(e);return!(!(window.self==window.top?window.appinsightorOnload:window.top.appinsightorOnload)||-1===["onclick","onchange","ajax"].indexOf(t))||-1!==["onclick","onchange"].indexOf(t)};String.prototype.hexEncode=function(){var e,t="";for(e=0;e<this.length;e++)t+=("000"+this.charCodeAt(e).toString(16)).slice(-4);return t};var T=function(e,t){return void 0===t&&(t=0),t>20?"omission":null!=e.caller&&null==e.caller.caller?null==e.caller.name?(o=e.caller,(n=/^function\s+([\w\$]+)\s*\(/.exec(o.toString()))?n[1]:""):e.caller.name:T(e.caller,++t);var o,n},j=function(){var e=navigator.userAgent.hexEncode(),t=e.length;return parseInt(e.substring(t-10,t),10)+(new Date).getTime()},k=function(){var t={};if(e.Prototype)t.prototype={name:"prototype",version:e.Prototype.version};else try{if(e.frames&&e.frames.length>0)for(var o=e.frames.length,n=0;n<o;n++)e.frames[n]&&void 0!==e.frames[n].Prototype&&void 0!==e.frames[n].Prototype.version&&(t.prototype={name:"prototype",version:e.frames[n].Prototype.version})}catch(e){window.console&&window.console.log&&window.console.log("check frames error : ",e)}if(e.DNP){var i={name:"DNP",version:""};void 0!==e.DNP.mobile&&(i.name="DNP-mobile"),t.DNP=i}return e.Ext&&e.Ext.versions&&e.Ext.versions.extjs&&(t.extjs={name:"extjs",version:e.Ext.versions.extjs.version}),e.Ext&&e.Ext.version&&(t.extjs={name:"extjs",version:e.Ext.version}),t},R=function(e,t){if(t){var o=0;return o<t.length&&void 0!==e[t[o]]?R(e[t[o]],t.slice(++o,t.length)):e}},O=function(e,t,o,n){if(e){var i=R(window,e);if(i&&i[t]){var r=i[t];i[t]=function(){n&&n(this,arguments),r.apply(this,arguments)}}else o>0&&setTimeout(function(){O(e,t,o-=500,n)},500)}},A=function(e){if(e)return e.replace(/\n/g," %5Cn").replace(/\r/g," %5Cn").replace(/"/g,"'")},P=function(e,t){var o=function(e,t){if(void 0===e||""===e)return!1;if(window.DOMParser)var o=(new DOMParser).parseFromString(e,"text/xml");else(o=new ActiveXObject("Microsoft.XMLDOM")).async="false",o.loadXML(e);return o}(e);if(o&&o.hasChildNodes())for(var n=o.childNodes[0].childNodes,i=0,r=n.length;i<r;i++){if(n[i].textContent===t)return n[++i].textContent}return null},H=function(e,t){return e?e.getAllResponseHeaders&&e.getResponseHeader&&e.getAllResponseHeaders().indexOf(t.apmStr)>=0?e.getResponseHeader(t.apmStr):void 0:null},D=function(t,o,n,i,r,a,s,p,l,c){this.opt=t||{},this.svcDataRes=o||{},this.agentData=n||{},this.params=i||{},this.locationData=r||{},this.countryInfo=a||{},this.debug_ip=s||"",this.customData=l||"",this.expTimeConf=c||{},this.E2E=p||{},this.requests=[],this.ajaxErrorList=[],this.eumStr="n$eum",this.apmStr="n$apm",this.prng=new u(j());e.paramOverriding=Function.prototype.bind&&this.paramOverriding.bind(this),e.customOverriding=Function.prototype.bind&&this.customOverriding.bind(this),e.ajaxUrlHook=Function.prototype.bind&&this.ajaxUrlHook.bind(this),e.ajaxLoadProc=Function.prototype.bind&&this.ajaxLoadProc.bind(this)};D.prototype.ajaxLoadProc=function(t,o){var n=function(e,t){if(e)for(var o in t)if(t.hasOwnProperty(o)&&t[o]&&t[o].uuid&&t[o].uuid===e.xhr.guid)return t[o]}(t,o.requests);if(void 0===n)return!0;var i=(new Date).getTime();if(null===n.ajaxLoad&&(n.perf.ps=i-n.ajaxStart,n.ajaxLoad=i),4==t.xhr.readyState){n.statusCode={status:t.xhr.status};var r=function(t){if(!(t&&e.performance&&e.performance.getEntriesByType))return!1;var o=e.performance.getEntriesByType("resource");for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];if("xmlhttprequest"===i.initiatorType&&i.name===t.xhr.responseURL)return i.startTime>0&&parseInt(i.responseEnd-i.startTime,10),b(i)}}(t);r?n.perf=r:(n.perf.pv=i-n.ajaxLoad,n.ajaxEnd=i,n.perf.pt=n.ajaxEnd-n.ajaxStart),(o.opt.xhr&&o.opt.xhr.use||o.opt.E2E&&void 0===o.opt.xhr||o.opt.E2E&&o.opt.xhr&&o.opt.xhr.use)&&(t.xhr.txid&&(n.uuid=t.xhr.txid.replace("$",":")),o.runResource(n,o))}},D.prototype.runAjaxHook=function(e){var t=this;new AjaxHook(t).installHook("",function(e){if(t.opt.E2E&&t.opt.E2E.use&&t.opt.E2E.useResponseHeader&&!e.txid){var o=H(e,t);null!=o&&(e.txid=o)}t.ajaxLoadProc({xhr:e},t)})},D.prototype.checkXHR=function(e,t){if(e)if(e&&4!=e.readyState)setTimeout(function(){t.checkXHR(e,t)},t.opt.xhr.syncXHRTimeout||100);else{if(t.opt.E2E&&t.opt.E2E.use&&t.opt.E2E.useResponseHeader&&!e.txid){var o=H(e,t);null!=o&&(e.txid=o)}t.ajaxLoadProc({xhr:e},t)}},D.prototype.runAIAjax=function(){var e=this;e.type="AIAjax",AIAjax({onreadystatechange:function(t){if(e.opt.E2E&&e.opt.E2E.use&&e.opt.E2E.useResponseHeader&&!t.xhr.txid){var o=H(t,e);null!=o&&(t.xhr.txid=o)}e.ajaxLoadProc(t,e)},onload:function(t){if(e.opt.E2E&&e.opt.E2E.use&&e.opt.E2E.useResponseHeader&&!t.xhr.txid){var o=H(t,e);null!=o&&(t.xhr.txid=o)}e.ajaxLoadProc(t,e)},open:function(t,o){if(-1!==t[1].indexOf(e.eumStr))return!1;var n=g(t[1]);if(-1!==n.indexOf(e.opt.hostname))return!1;var i=e.opt.xhr&&e.opt.xhr.filters||[];if(i.length>0&&!y(i,n))return!1;var r=e.opt.xhr&&e.opt.xhr.exceptionFilters||[];if(r.length>0&&y(r,n))return!1;var a=e.prng.next((new Date).getTime());o.guid=a;var p="";if(e.opt.expTime&&e.opt.expTime.use&&!e.expTimeConf.userClick){var u=!1;if(null!==arguments.callee)try{u=S(arguments.callee)}catch(e){window.console&&window.console.log&&window.console.log("AiAjax open method : callee failed.")}u?(e.expTimeConf.onload_id="",e.expTimeConf.userClick=!0):(p=e.expTimeConf.onload_id,e.expTimeConf.onloadAjaxCount++)}var l=new C(a,t[0],n,e,p,t[2]);l.txid=e.E2E.txid,e.opt.E2E&&e.opt.E2E.use&&(void 0===e.opt.E2E.useResponseHeader&&void 0===e.opt.E2E.useHeader||void 0!==e.opt.E2E.useHeader&&!1===e.opt.E2E.useHeader&&void 0!==e.opt.E2E.useResponseHeader&&!1===e.opt.E2E.useResponseHeader||void 0===e.opt.E2E.useHeader&&void 0!==e.opt.E2E.useResponseHeader&&!1===e.opt.E2E.useResponseHeader||void 0===e.opt.E2E.useResponseHeader&&void 0!==e.opt.E2E.useHeader&&!1===e.opt.E2E.useHeader)&&(t[1]=s(t[1],e.eumStr+"="+a)),o.appRequest=l},send:function(t,o){if(void 0!==o.appRequest){if(e.opt.E2E&&e.opt.E2E.use&&e.opt.E2E.useHeader&&!0===e.opt.E2E.useHeader&&this.setRequestHeader(e.eumStr,o.guid),e.opt.xhr&&e.opt.xhr.postParameter&&e.opt.xhr.postParameter.length>0&&t[0]){var n=t[0].split("&");for(var i in n){var r=n[i].split("=");-1!==e.opt.xhr.postParameter.indexOf(r[0])&&(o.appRequest.postData+=""===o.appRequest.postData?n[i]:"&"+n[i])}}e.requests.push(o.appRequest),o.appRequest.async||e.checkXHR(o,e)}}})},D.prototype.paramOverriding=function(e,t){return e&&"object"==typeof e&&(this.paramData=e),t&&"function"==typeof t&&(this.callback=t),this},D.prototype.customOverriding=function(e){this.customData={segmentation:e}},D.prototype.ajaxUrlHook=function(e,t,o){if(e&&t[0]&&t[1]){var n=!1,i=g(t[1]);-1!==t[1].indexOf(this.eumStr)&&(n=!0),-1!==i.indexOf(this.opt.hostname)&&(n=!0);var r=this.opt.xhr&&this.opt.xhr.filters||[],a=!1;r.length>0&&y(r,i)&&(a=!0);var p=this.opt.xhr&&this.opt.xhr.exceptionFilters||[];p.length>0&&y(p,i)&&(a=!1);var u="";if(n&&(a=!1),a){u=this.prng.next((new Date).getTime());var l="";if(this.opt.expTime&&this.opt.expTime.use&&!this.expTimeConf.userClick){var c=!1;if(null!==arguments.callee)try{c=S(arguments.callee)}catch(e){window.console&&window.console.log&&window.console.log("AjaxRequest ajaxUrlHook method : callee failed.")}c?(this.expTimeConf.onload_id="",this.expTimeConf.userClick=!0):(l=this.expTimeConf.onload_id,this.expTimeConf.onloadAjaxCount++)}var d=new C(u,t[0],i,o,l,!1);d.txid=this.E2E.txid,this.opt.E2E&&this.opt.E2E.use&&(void 0===this.opt.E2E.useResponseHeader&&void 0===this.opt.E2E.useHeader||void 0!==this.opt.E2E.useHeader&&!1===this.opt.E2E.useHeader&&void 0!==this.opt.E2E.useResponseHeader&&!1===this.opt.E2E.useResponseHeader||void 0===this.opt.E2E.useHeader&&void 0!==this.opt.E2E.useResponseHeader&&!1===this.opt.E2E.useResponseHeader||void 0===this.opt.E2E.useResponseHeader&&void 0!==this.opt.E2E.useHeader&&!1===this.opt.E2E.useHeader)&&(t[1]=s(t[1],this.eumStr+"="+u)),this.requests.push(d)}return{url:t[1],xhr:e,guid:u}}},D.prototype.initAjaxParam=function(e){if(e)for(var t in this.requests)this.requests.hasOwnProperty(t)&&this.requests[t]&&this.requests[t].uuid===e.uuid&&this.requests.splice(t,1)},D.prototype.send=function(t,o){var i,a={},s={user_end_time:o.ajaxStart},p={};if(o.txid&&""!==o.txid&&(p.txid=o.txid),o.uuid&&""!==o.uuid&&(p.uuid=o.uuid),t.opt.expTime&&t.opt.expTime.use&&o.onload_id&&""!==o.onload_id&&(a.ridx=t.expTimeConf.idx++,a.onload_id=o.onload_id),""!==o.postData&&(a.post_data=o.postData),r(o.perf),n(a,[{category:"ajax"},t.svcDataRes,t.agentData,t.params,t.locationData,t.countryInfo,t.debug_ip,p,o.perf,o.statusCode,s,t.customData]),!((i=o.statusCode.status)&&i>=100&i<400)){var u={error:o.statusCode.status,url:o.ajaxUrl};n(a,[u])}a.rr=o.ajaxUrl,a.method=o.ajaxMethod,o.paramData&&(x(a,o.paramData),o.paramData=null);var l=b();window.self!=window.top?e.top.appinsightorOnload&&e.appinsightorOnload&&l?o.callback?m(t.opt,a,o.callback):m(t.opt,a):t.ajaxErrorList.push(a):e.appinsightorOnload&&l?o.callback?m(t.opt,a,o.callback):m(t.opt,a):t.ajaxErrorList.push(a),t.initAjaxParam(o)},D.prototype.runResource=function(e,t){if(e)return t.opt.expTime&&t.opt.expTime.use&&e.onload_id&&""!==e.onload_id&&t.expTimeConf.onloadAjaxCount>0&&(t.expTimeConf.expTime=e.perf.pt>0?e.ajaxStart+e.perf.pt:e.ajaxStart,t.expTimeConf.onloadAjaxCount--),this.send(t,e),this};var M,I,_=function(t){var o,n,i,r;n=t,(o=this).retryTime=50,o.req=n||{},o.timer=null,o.conf=n.opt,o.conf.uri=n.uri,o.conf.hostname=(i=n.uri,(r=document.createElement("a")).href=i,r.hostname),o.params={},o.params.t=n.trackId,o.params.v="1.5.16",o.params.cv="0.4",o.svcData=v.get(o.conf),o.agentData=E.get(),o.svcDataRes=v.get(o.conf),n.opt.location&&w(function(e){o.locationData=e}),o.E2E={},o.userEndTime=0,o.expTimeConf={timer:null,timeout:6e4,onload_id:"",expTime:0,userClick:!1,onloadAjaxCount:0,viewChange:!1,idx:11},o.ajaxRequests=null,n.opt.E2E&&n.opt.E2E.n$apm&&""!==n.opt.E2E.n$apm&&"null"!==n.opt.E2E.n$apm&&-1==n.opt.E2E.n$apm.indexOf("n$apm")&&-1==n.opt.E2E.n$apm.indexOf("${n$apm}")?o.E2E.txid=n.opt.E2E.n$apm:o.E2E.txid=new u(j()).next((new Date).getTime()),n.opt.expTime&&n.opt.expTime.use&&(o.expTimeConf.onload_id=o.E2E.txid,window.self!=window.top&&(e.top.appinsightorProc?o.expTimeConf=e.top.appinsightorProc.expTimeConf:e.top.appinsightorProc={expTimeConf:o.expTimeConf},""===o.expTimeConf.onload_id&&(o.expTimeConf.userClick=!1,o.expTimeConf.idx=11,o.expTimeConf.onload_id=new u(j()).next((new Date).getTime()))),o.addExptimeCaptureEvent(),o.expTimeConf.timer=setTimeout(function(){o.expTimeConf.userClick=!0,o.expTimeConf.onload_id=""},o.expTimeConf.timeout||6e4)),n.opt.countryInfo&&(o.countryInfo={debug_country:n.opt.countryInfo}),n.opt.debug_ip&&(o.debug_ip={debug_ip:n.opt.debug_ip}),n.opt.customData&&(o.customData={segmentation:n.opt.customData}),n.opt.xhr&&n.opt.xhr.use&&(o.ajaxRequests=new D(o.conf,o.svcDataRes,o.agentData,o.params,o.locationData,o.countryInfo,o.debug_ip,o.E2E,o.customData,o.expTimeConf),n.opt.xhr.staticMode?window.WebSquare&&window.WebSquare.ModelUtil&&window.WebSquare.ModelUtil.defaultSubmissionHandler?O(["WebSquare","ModelUtil"],"defaultSubmissionHandler",1e4,function(e,t){if(e&&e.setSubmissionEnd){var i=e.setSubmissionEnd;e.setSubmissionEnd=function(e,t,r){var a={xhr:{guid:e.guid,status:r.responseStatusCode,readyState:4}};if(n.opt.E2E&&n.opt.E2E.use&&n.opt.E2E.useResponseHeader){var s=P(r.responseHeaders,o.ajaxRequests.apmStr);a.xhr.txid=s}o.ajaxRequests.ajaxLoadProc(a,o.ajaxRequests),i.apply(this,arguments)}}if(t&&t[0]){var r=o.ajaxRequests.ajaxUrlHook(t[0],[t[0].method,t[0].action],o.ajaxRequests.opt);t[0].action=r.url,t[0].guid=r.guid}}):o.conf.lib.WebSquare=!1:n.opt.lib.extjs&&"3"===n.opt.lib.extjs.version.slice(0,1)?(o.setAjaxHook(n.opt,o.ajaxRequests),window.AjaxHook&&o.ajaxRequests.runAjaxHook(o.conf)):"IE"===e.platform.name&&void 0!==e.Prototype||void 0!==e.WebSquare?(o.setAIAjaxHook(n.opt),o.setAjaxHook(n.opt,o.ajaxRequests),window.AjaxHook&&o.ajaxRequests.runAjaxHook(o.conf)):void 0!==o.conf.lib.prototype||(void 0===Object.defineProperty?(o.setAjaxHook(n.opt,o.ajaxRequests),window.AjaxHook&&o.ajaxRequests.runAjaxHook(o.conf)):(o.setAIAjaxHook(n.opt),window.AIAjax&&o.ajaxRequests.runAIAjax()))),n.opt.onerror&&(o.lastErrorParams=null,o.onError()),e.recordEvent=Function.prototype.bind&&o.recordEvent.bind(o)};_.prototype.onError=function(){var t=this;t.errorList=[],e.onerror=function(o,n,i,r,a){var s="";a&&a.stack&&(s=A(a.stack)),o&&(o=A(o)),""===s&&(s=o);var p={msg:o,url:n,lineNo:i,columnNo:r,error:s,errorType:t.getErrorType(o)},u=b();return window.self!=window.top?e.top.appinsightorOnload&&e.appinsightorOnload&&u?t.runError(p):t.errorList.push(p):u&&e.appinsightorOnload?t.runError(p):t.errorList.push(p),!1}},_.prototype.addExptimeCaptureEvent=function(){var t=this;if(e.addEventListener){var o=function(o){t.conf.lib.extjs||t.expTimeConf.viewChange||e.appinsightorOnload&&(clearTimeout(t.expTimeConf.timer),t.expTimeConf.userClick=!0,t.expTimeConf.onload_id="")};e.addEventListener("keydown",function(e){13===e.keyCode&&o()}),e.addEventListener("click",o),e.PointerEvent?e.addEventListener("pointerdown",o):e.addEventListener("mousedown",o),e.addEventListener("scroll",o),e.addEventListener("touchstart",o)}else if(e.attachEvent){var n=function(){t.expTimeConf.viewChange||(t.expTimeConf.userClick=!0,t.expTimeConf.onload_id="")};document.attachEvent("onclick",n),document.attachEvent("onmousedown",n)}return this},_.prototype.setAjaxHook=function(e,t){window.AjaxHook=function(e){if(!window.XMLHttpRequest)return!1;var t={},o=(new Date).getTime(),n=function(e){return new RegExp("^(http(s)?://)?"+e+"(.)*$")},i=e.opt;if(!i.xhr||i.xhr&&!i.xhr.use)return!1;var r=XMLHttpRequest.prototype.open,a=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.open=function(n,i,a){var p=!1;-1!==i.indexOf(e.eumStr)&&(p=!0);var u=g(arguments[1]);-1!==u.indexOf(e.opt.hostname)&&(p=!0);var l=e.opt.xhr&&e.opt.xhr.filters||[],c=!1;l.length>0&&y(l,u)&&(c=!0);var d=e.opt.xhr&&e.opt.xhr.exceptionFilters||[];if(d.length>0&&y(d,u)&&(c=!1),p&&(c=!1),c){var f=e.prng.next((new Date).getTime());this.guid=f;var h="";if(e.opt.expTime&&e.opt.expTime.use&&!e.expTimeConf.userClick){var x=!1;if(null!==arguments.callee)try{x=S(arguments.callee)}catch(e){window.console&&window.console.log&&window.console.log("AjaxHook open method : callee failed.")}x?(e.expTimeConf.onload_id="",e.expTimeConf.userClick=!0):(h=e.expTimeConf.onload_id,e.expTimeConf.onloadAjaxCount++)}var m=new C(f,arguments[0],u,e,h,a);m.txid=e.E2E.txid,e.opt.E2E&&e.opt.E2E.use&&(void 0===e.opt.E2E.useResponseHeader&&void 0===e.opt.E2E.useHeader||void 0!==e.opt.E2E.useHeader&&!1===e.opt.E2E.useHeader&&void 0!==e.opt.E2E.useResponseHeader&&!1===e.opt.E2E.useResponseHeader||void 0===e.opt.E2E.useHeader&&void 0!==e.opt.E2E.useResponseHeader&&!1===e.opt.E2E.useResponseHeader||void 0===e.opt.E2E.useResponseHeader&&void 0!==e.opt.E2E.useHeader&&!1===e.opt.E2E.useHeader)&&(arguments[1]=s(arguments[1],e.eumStr+"="+f)),this.appRequest=m}var b=function(e){var o,n,i=0,r=[];for(var a in t)r.push(a);for(i=0;i<r.length;i++)if((o=r[i],n=void 0,n=o.substring(1,o.length-1),new RegExp(n)).test(e))return t[r[i]]}(arguments[1]);b?(this[o]={},this[o].callback=b):this[o]&&(this.onreadystatechange=this[o].orgCallback,delete this[o]),r.apply(this,arguments)},XMLHttpRequest.prototype.send=function(){if(void 0!==this.appRequest){if(e.opt.E2E&&e.opt.E2E.use&&e.opt.E2E.useHeader&&!0===e.opt.E2E.useHeader&&this.setRequestHeader(e.eumStr,this.guid),e.opt.xhr&&e.opt.xhr.postParameter&&e.opt.xhr.postParameter.length>0&&arguments[0]){var t=arguments[0].split("&");for(var n in t){var i=t[n].split("=");-1!==e.opt.xhr.postParameter.indexOf(i[0])&&(this.appRequest.postData+=""===this.appRequest.postData?t[n]:"&"+t[n])}}e.requests.push(this.appRequest),this.appRequest.async||e.checkXHR(this,e)}var r=this;if(this[o]&&this[o].callback){this[o].orgCallback=this.onreadystatechange;this.onreadystatechange=function(e){return r[o].orgCallback&&r[o].orgCallback.apply(r,Array.prototype.slice.apply(arguments)),r[o].callback.call(r,r)}}a.apply(this,arguments)},this.installHook=function(e,o){var i=e instanceof RegExp?e:n(e);t[i]=o},this.removeHook=function(e){var o=e instanceof RegExp?e:n(e);delete t[o]},this.removeAllHooks=function(){t={}}}},_.prototype.setAIAjaxHook=function(e){var t,o;t=window,o=e,t.AIAjax=function(e){if(!window.XMLHttpRequest)return!1;if(!o.xhr||o.xhr&&!o.xhr.use)return!1;function t(t){return function(){var o=this.hasOwnProperty(t+"_")?this[t+"_"]:this.xhr[t],n=(e[t]||{}).getter;return n&&n(o,this)||o}}function n(t){return function(o){var n=this.xhr,i=this,r=e[t];if("function"==typeof r)n[t]=function(){e[t](i)||o&&o.apply(n,arguments)};else{var a=(r||{}).setter;o=a&&a(o,i)||o;try{n[t]=o}catch(e){this[t+"_"]=o}}}}function i(t){return function(){var o=[].slice.call(arguments);if(!e[t]||!e[t].call(this,o,this.xhr))return this.xhr[t].apply(this.xhr,o)}}return window._realxhr=window._realxhr||XMLHttpRequest,XMLHttpRequest=function(){var e=new window._realxhr;for(var o in e){var r="";try{r=typeof e[o]}catch(e){}if("function"===r)this[o]=i(o);else try{Object.defineProperty(this,o,{get:t(o),set:n(o)})}catch(e){return window._realxhr}}this.xhr=e},window._realxhr},t.unAIAjax=function(){window._realxhr&&(XMLHttpRequest=window._realxhr),window._realxhr=void 0}},_.prototype.getErrorType=function(e){var t=["EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"];if(e&&""!==e){for(var o in t)if(-1!==e.indexOf(t[o]))return t[o];return"other"}},_.prototype.recordEvent=function(t,o){this.customData,t&&(this.customData={segmentation:t});var i={};if(this.conf.expTime&&this.conf.expTime.use&&this.conf.expTime.clickReport){if(0===this.expTimeConf.expTime){var r=b();i.px=r.pt}else if(e.performance&&e.performance.timing){var s=e.performance.timing;i.px=this.expTimeConf.expTime-(0===s.redirectStart?s.fetchStart:s.redirectStart)}i.ridx=this.expTimeConf.idx++,i.onload_id=this.expTimeConf.onload_id,n(i,[{category:"px"}])}else this.userEndTime=a(),n(i,[{category:"browser"},this.svcDataRes,this.agentData,this.params,this.locationData,this.countryInfo,this.debug_ip,this.E2E,this.userEndTime,this.customData]),o&&"object"==typeof o?x(i,o):this.conf.debugAgentInfo&&"object"==typeof this.conf.debugAgentInfo&&x(i,this.conf.debugAgentInfo);m(this.conf,i)},_.prototype.getEntries=function(t,o){var n=e.performance.getEntriesByType("resource"),i=n.length,r=[],a=3e3;void 0!==t.down_entries.limit_sec&&(a="number"!=typeof(s=t.down_entries.limit_sec)?1e3:1e3*s);if(a>o.pt)return r;var s,p=100;void 0!==t.down_entries.limit_percent&&(p="number"!=typeof(s=t.down_entries.limit_percent)||s<10||s>100?10:s);for(var u=o.pt*(p/100),l=["xmlhttprequest"],c=0;c<i;c++){var d=n[c],f=d.startTime>0?parseInt(d.responseEnd-d.startTime,10):0;if(f>=u&&-1===l.indexOf(d.initiatorType)&&-1===d.name.indexOf("ne.nfl")){var h={name:d.name,type:d.initiatorType,time:f,start:parseFloat(d.startTime.toFixed(2)),size:d.transferSize};r.push(h)}}return r.sort(function(e,t){return e.time<t.time?1:e.time>t.time?-1:0}),r},_.prototype.runError=function(e){if(window&&window.Date){var t=e.msg.toLowerCase();if(t.indexOf("script error")>-1&&(e.msg=t),!this.lastErrorParams||this.lastErrorParams.msg!=e.msg){e.url=this.svcDataRes.rr;var o={};this.conf.expTime&&this.conf.expTime.use&&this.expTimeConf.onload_id&&""!==this.expTimeConf.onload_id&&(o.ridx=this.expTimeConf.idx++,o.onload_id=this.expTimeConf.onload_id);var i=a();return n(o,[{category:"browser"},e,this.svcDataRes,this.agentData,this.params,this.locationData,this.countryInfo,this.debug_ip,this.E2E,i,this.customData]),this.conf.debugAgentInfo&&"object"==typeof this.conf.debugAgentInfo&&x(o,this.conf.debugAgentInfo),m(this.conf,o),this.lastErrorParams=o,this}}},_.prototype.checkFramework=function(){var t=this;this.conf.lib=k();var o=function(){clearTimeout(t.expTimeConf.timer),t.expTimeConf.userClick=!1,t.expTimeConf.idx=11,t.E2E.txid=t.expTimeConf.onload_id=new u(j()).next((new Date).getTime())};if(t.conf.lib.extjs&&"3"===t.conf.lib.extjs.version.slice(0,1));else{if("IE"===e.platform.name&&t.conf.lib.prototype)return;void 0!==e.WebSquare||this.conf.xhr&&this.conf.xhr.use&&!this.conf.xhr.staticMode&&(void 0===Object.defineProperty?window.AjaxHook||(this.setAjaxHook(this.conf,this.ajaxRequests),this.ajaxRequests.runAjaxHook(this.conf)):(t.setAIAjaxHook(t.conf),window.AIAjax&&this.ajaxRequests.runAIAjax()))}if(this.conf.xhr&&this.conf.xhr.use&&null===this.ajaxRequests&&(this.ajaxRequests=new D(t.conf,t.svcDataRes,t.agentData,t.params,t.locationData,t.countryInfo,t.debug_ip,t.E2E,t.customData,t.expTimeConf)),this.conf.lib.extjs&&"3"===this.conf.lib.extjs.version.slice(0,1)||(this.conf.xhr&&this.conf.xhr.use&&void 0!==e.WebSquare?this.conf.xhr.staticMode?this.conf.lib.WebSquare||O(["WebSquare","ModelUtil"],"defaultSubmissionHandler",1e4,function(e,o){if(e&&e.setSubmissionEnd){var n=e.setSubmissionEnd;e.setSubmissionEnd=function(e,o,i){var r={xhr:{guid:e.guid,status:i.responseStatusCode,readyState:4}};if(t.conf.E2E&&t.conf.E2E.use&&t.conf.E2E.useResponseHeader){var a=P(i.responseHeaders,t.ajaxRequests.apmStr);r.xhr.txid=a}t.ajaxRequests.ajaxLoadProc(r,t.ajaxRequests),n.apply(this,arguments)}}if(o&&o[0]){var i=t.ajaxRequests.ajaxUrlHook(o[0],[o[0].method,o[0].action],t.ajaxRequests.opt);o[0].action=i.url,o[0].guid=i.guid}}):(e.AIAjax&&e.unAIAjax(),this.setAjaxHook(this.conf,this.ajaxRequests),this.ajaxRequests.runAjaxHook(this.conf)):this.conf.xhr&&this.conf.xhr.use&&!this.conf.xhr.staticMode&&e.AIAjax&&void 0===this.ajaxRequests.type&&this.ajaxRequests.runAIAjax()),window&&window.Ext&&(t.conf.lib.extjs&&t.conf.lib.DNP&&"DNP-mobile"===t.conf.lib.DNP.name?(e.addEventListener("touchstart",function(){o()}),O(["DNP","mobile","Login","prototype","config","controller"],"onBioLogin",1e4,function(e,t){o()})):window.Ext.util&&window.Ext.util.Functions&&void 0!==window.Ext.util.Functions.createInterceptor&&(window.Ext.Component.prototype.fireEvent=window.Ext.util.Functions.createInterceptor(window.Ext.Component.prototype.fireEvent,function(){("enable"===arguments[0]&&void 0!==arguments[1].boxReady||"mousedown"===arguments[0])&&(t.expTimeConf.userClick=!0,t.expTimeConf.onload_id=""),"afterlayout"===arguments[0]&&12!==t.expTimeConf.idx&&o()}))),window&&window.Ext&&window.Ext.Function&&void 0!==window.Ext.Function.createInterceptor){var n=[];window.Ext.Component.prototype.fireEvent=window.Ext.Function.createInterceptor(window.Ext.Component.prototype.fireEvent,function(e,i,r){"containerclick"===e?(n.length=0,n.push(e)):(["beforecontainermouseout","beforecontainermouseover","containermouseout","containermouseover","iconchange","textchange"].indexOf(e)<0&&n.push(e),n.length>2&&(n.length=0)),"click"!==e&&"containerclick"!==e||!i.viewReady||void 0!==r.view||(t.expTimeConf.userClick=!0,t.expTimeConf.onload_id=""),"containerclick"!==n[0]||"storechange"!==n[1]&&"beforetabchange"!==n[1]||o(),"load"===e&&setTimeout(function(){t.expTimeConf.userClick=!0,t.expTimeConf.onload_id=""},500)})}this.conf.expTime.useGetClickDiv&&this.getClickDiv(),this.conf.expTime.useJqueryLoad&&this.jqueryLoad(),this.conf.expTime.customLoad&&this.customLoad(this.conf.expTime.customLoad)},_.prototype.jqueryLoad=function(){var e=this;O(["$","prototype"],"load",1e4,function(t,o){e.expTimeConf.viewChange=!0,setTimeout(function(){e.expTimeConf.viewChange=!1},500),e.expTimeConf.userClick=!1,e.expTimeConf.idx=11,e.E2E.txid=e.expTimeConf.onload_id=new u(j()).next((new Date).getTime()),e.conf&&e.conf.expTime&&e.conf.expTime.useGetClickDiv&&e.getClickDiv()})},_.prototype.customLoad=function(e){var t=this;e.target&&e.func&&O(e.target,e.func,1e4,function(e,o){t.expTimeConf.viewChange=!0,setTimeout(function(){t.expTimeConf.viewChange=!1},500),t.expTimeConf.userClick=!1,t.expTimeConf.idx=11,t.E2E.txid=t.expTimeConf.onload_id=new u(j()).next((new Date).getTime()),t.conf&&t.conf.expTime&&t.conf.expTime.useGetClickDiv&&t.getClickDiv()})},_.prototype.getClickDiv=function(){if(!document||!document.getElementById||null==document.getElementById("appGetClickDiv")){var e=this,t=document.getElementsByTagName("body")[0],o=document.createElement("div");o.style.position="fixed",o.id="appGetClickDiv",o.style.top="0",o.style.left="0",o.style.right="0",o.style.bottom="0",o.style.zIndex="10000000000",o.addEventListener("click",function(n){e.expTimeConf.userClick=!0,e.expTimeConf.onload_id="",t.removeChild(o),document.elementFromPoint(n.clientX,n.clientY).focus(),document.elementFromPoint(n.clientX,n.clientY).click()}),o.addEventListener("touchstart",function(n){e.expTimeConf.userClick=!0,e.expTimeConf.onload_id="",t.removeChild(o)}),t.appendChild(o)}},_.prototype.sendAfterRequest=function(){if(this.errorList&&this.errorList.length>0){for(var e in this.errorList)this.errorList.hasOwnProperty(e)&&this.runError(this.errorList[e]);self.errorList=[]}if(this.ajaxRequests&&this.ajaxRequests.ajaxErrorList&&this.ajaxRequests.ajaxErrorList.length>0){var t=this.ajaxRequests.ajaxErrorList;for(var e in t)t.hasOwnProperty(e)&&m(this.conf,t[e]);this.ajaxRequests.ajaxErrorList=[]}},_.prototype.run=function(){var t=this;if(void 0!==t.conf.onload&&!1===t.conf.onload)return window.appinsightorOnload=!0,!1;var o={},i=b();if(window.self!=window.top)if(void 0===e.top.appinsightorConf&&"complete"===e.top.document.readyState){if(e.top.appinsightorProc={expTimeConf:this.expTimeConf},e.top.appinsightorOnload=!0,!i)return void(t.timer=setTimeout(function(){t.run()},this.retryTime))}else{if(!e.top.appinsightorOnload)return void(t.timer=setTimeout(function(){t.run()},this.retryTime));if(!i)return void(t.timer=setTimeout(function(){t.run()},this.retryTime))}else if(!i)return void(t.timer=setTimeout(function(){t.run()},this.retryTime));clearTimeout(t.timer),window.appinsightorOnload=!0,this.conf.expTime&&this.conf.expTime.use&&t.expTimeConf.onload_id&&""!==t.expTimeConf.onload_id&&(o.ridx=t.expTimeConf.idx++,o.onload_id=t.expTimeConf.onload_id),t.conf.down_entries&&t.conf.down_entries.use&&void 0!==e.performance.getEntriesByType&&(o.wfc=t.getEntries(t.conf,i)),t.userEndTime=a(),n(o,[{category:"browser"},i,t.svcDataRes,t.agentData,t.params,t.locationData,t.countryInfo,t.debug_ip,t.E2E,t.userEndTime,t.customData]),t.conf.debugAgentInfo&&"object"==typeof t.conf.debugAgentInfo&&x(o,t.conf.debugAgentInfo),m(this.conf,o),this.sendAfterRequest(),this.conf.expTime&&this.conf.expTime.use&&setTimeout(function(){t.checkFramework()},1e3)},M=null,(I=function(){if(M=setTimeout(function(){I()},1e3),e.appinsightorConf&&e.appinsightorConf instanceof Object&&!e.appinsightorOnload){clearTimeout(M),e.appinsightorConf.opt&&(e.appinsightorConf.opt.lib=k());var t=new _(e.appinsightorConf);e.appinsightorProc=t,t.run()}else e.appinsightorConf&&e.appinsightorConf instanceof Object&&e.appinsightorConf.opt&&e.appinsightorConf.opt.expTime&&(e.appinsightorConf.opt.expTime.useJqueryLoad&&e.appinsightorOnload?(clearTimeout(M),e.appinsightorProc&&e.appinsightorProc.jqueryLoad()):e.appinsightorConf.opt.expTime.customLoad&&e.appinsightorOnload&&(clearTimeout(M),e.appinsightorProc&&e.appinsightorProc.customLoad(e.appinsightorConf.opt.expTime.customLoad)))})()}(window,document);